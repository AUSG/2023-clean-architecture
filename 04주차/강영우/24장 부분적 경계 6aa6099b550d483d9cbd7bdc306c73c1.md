# 24장 부분적 경계

- 아키텍처 경계를 완벽하게 만드는 데는 비용이 많이 든다.
- 뛰어난 아키텍트라면 이러한 경계를 만드는 비용이 너무 크다고 판단하면서도, 한편으로는 나중에 필요할 수도 있으므로 이러한 경계에 필요한 공간을 확보하기 원할 수도 있다.
- 부분적 경계(partial boundary)를 구현해보자

# 마지막 단계를 건너뛰기

---

- 부분적 경계를 생성하는 방법 하나는 독립적으로 컴파일하고 배포할 수 있는 컴포넌트를 만들기 위한 작업은 모두 수행한 후, 단일 컴포넌트에 그대로 모아만 두는 것이다.
- 부분적 경계를 만들려면 완벽한 경계를 만들 때 만큼 코드량과 사전 설계가 필요하다. 하지만 다수의 컴포넌트를 관리하는 작업은 하지 않아도 된다.

# 일차원 경계

---

- 완벽한 형태의 아키텍처 경계는 양방향으로 격리된 상태를 유지해야 하므로 쌍방향 Boundary 인터페이스를 사용한다.
    - 양방향으로 격리된 상태를 유지하려면 비용이 지속적으로 많이 든다.

![Untitled](24%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%87%E1%85%AE%E1%84%87%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%A8%20%E1%84%80%E1%85%A7%E1%86%BC%E1%84%80%E1%85%A8%206aa6099b550d483d9cbd7bdc306c73c1/Untitled.png)

- 완벽한 경계의 경계로 확장할 수 있는 공간을 확보하고자 할 때, 전략(strategy)패턴을 사용한다.
- 점선으로 보이는 비밀통로가 많이 확장될 수 있다.

# 퍼사드

---

- 이보다 더 단순한 경계는 퍼사드(Facade) 패턴이다. 의존성 역전까지도 희생한다.

![Untitled](24%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%87%E1%85%AE%E1%84%87%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%A8%20%E1%84%80%E1%85%A7%E1%86%BC%E1%84%80%E1%85%A8%206aa6099b550d483d9cbd7bdc306c73c1/Untitled%201.png)

- 퍼사드 클래스에는 모든 서비스 클래스를 메소드화 시킨다.
- 클라이언트는 퍼사드 클래스만 호출 가능하고, 내부 서비스 클래스는 직접 접근이 불가능하다.
- 추이 종속형 문제가 발생가능하다. 내부 클래스의 타입이 변경되면 퍼사드 클래스도 재컴파일 되어야한다.

# 결론

---

위 세 접근법 각각은 장단점이 있다. 적절하게 사용할 수 있는 상황에 사용해야한다.