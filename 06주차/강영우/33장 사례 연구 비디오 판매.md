# 33장 사례 연구: 비디오 판매

1. 시스템의 초기 아키텍처를 결정하는 첫 단계는 액터와 유스케이스를 식별한다.
2. 컴포넌트 아키텍처를 설계한다.

# 제품

---

- 웹사이트에서 비디오를 판매하는 소프트웨어이다.
- 비디오를 팔고, 기업이나 개인이 시청 가능하다.
    - 개인: 스트리밍 혹은 영구소장 가능
    - 기업: 스트리밍 전용.. 대량 구매시 할인 가능
- 비디오 제작사는 비디오와 비디오에 대한 설명, 부속파일을 제공해야한다.
- 관리자는 신규 비디오 시리즈물을 추가하거나 기존 시리즈물에 비디오를 추가삭제하며 다양한 라이선스에 맞춰 가격을 책정한다.

# 유스케이스 분석

---

- 제작자/관리자/구매자/시청자 이렇게 네 가지의 액터로 나뉜다.
- 시스템을 분할해 특정 액터가 변경될 때 다른 액터에 영향이 가지 않도록 한다.
- 범용적인 정책을 담고있는 추상 유스케이스를 만들어서 다른 유스케이스에서 더 구체화할 수 있도록 한다.
    - 유사성을 식별해서 분석 초기에 통합하는 방법을 찾는편이 더 현명했기 때문

# 컴포넌트 아키텍처

---

- 뷰/프레젠터/인터렉터/컨트롤러로 나눈다.
- 대응하는 액터에 따라 카테고리를 분리한다.
- 본인이 배포하는 방식에 따라 컴포넌트를 묶는다.

# 의존성 관리

---

- 입력이 컨트롤러에서 발생하면 인터렉터에 의해 처리되고 결과가 만들어진다. 프레젠터가 결과의 포멧을 변경하고, 뷰가 화면에 표시한다.
- 의존성을 지키도록 하되, 올바른 방향으로 흐르도록 해야한다.

# 결론

---

- 아키텍처 다이어그램이 가진 서로다른 차원의 분리 개념
    - 단일 책임 원칙에 기반한 액터의 분리
    - 의존성 규칙
- 서로 다른 이유/속도로 변경되는 컴포넌트를 분리하는데 목적이 있다.